FROM node:18-alpine3.16  AS runner

# create & set working directory
RUN mkdir /usr/app/
RUN mkdir /usr/app/cl 
RUN mkdir /usr/app/job-hub
WORKDIR /usr/app



# copy source files
COPY  . .

ENV NODE_ENV production
# install dependencies
RUN npm install

# start app
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]